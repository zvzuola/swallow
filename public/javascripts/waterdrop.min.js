function HighlightedDate(e,t,n){"use strict";this.date=e,this.desc=t,this.style=n}!function(e){"use strict";var t={i18n:{ar:{months:["كانون الثاني","شباط","آذار","نيسان","مايو","حزيران","تموز","آب","أيلول","تشرين الأول","تشرين الثاني","كانون الأول"],dayOfWeek:["ن","ث","ع","خ","ج","س","ح"]},ro:{months:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],dayOfWeek:["l","ma","mi","j","v","s","d"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeek:["Min","Sen","Sel","Rab","Kam","Jum","Sab"]},bg:{months:["Януари","Февруари","Март","Април","Май","Юни","Юли","Август","Септември","Октомври","Ноември","Декември"],dayOfWeek:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"]},fa:{months:["فروردین","اردیبهشت","خرداد","تیر","مرداد","شهریور","مهر","آبان","آذر","دی","بهمن","اسفند"],dayOfWeek:["یکشنبه","دوشنبه","سه شنبه","چهارشنبه","پنجشنبه","جمعه","شنبه"]},ru:{months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],dayOfWeek:["Вск","Пн","Вт","Ср","Чт","Пт","Сб"]},uk:{months:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],dayOfWeek:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},el:{months:["Ιανουάριος","Φεβρουάριος","Μάρτιος","Απρίλιος","Μάιος","Ιούνιος","Ιούλιος","Αύγουστος","Σεπτέμβριος","Οκτώβριος","Νοέμβριος","Δεκέμβριος"],dayOfWeek:["Κυρ","Δευ","Τρι","Τετ","Πεμ","Παρ","Σαβ"]},de:{months:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeek:["So","Mo","Di","Mi","Do","Fr","Sa"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeek:["zo","ma","di","wo","do","vr","za"]},tr:{months:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],dayOfWeek:["Paz","Pts","Sal","Çar","Per","Cum","Cts"]},fr:{months:["Janvier","Février","Mars","Avril","Mai","Juin","Juillet","Août","Septembre","Octobre","Novembre","Décembre"],dayOfWeek:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeek:["Dom","Lun","Mar","Mié","Jue","Vie","Sáb"]},th:{months:["มกราคม","กุมภาพันธ์","มีนาคม","เมษายน","พฤษภาคม","มิถุนายน","กรกฎาคม","สิงหาคม","กันยายน","ตุลาคม","พฤศจิกายน","ธันวาคม"],dayOfWeek:["อา.","จ.","อ.","พ.","พฤ.","ศ.","ส."]},pl:{months:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień"],dayOfWeek:["nd","pn","wt","śr","cz","pt","sb"]},pt:{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},ch:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},kr:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeek:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},da:{months:["January","Februar","Marts","April","Maj","Juni","July","August","September","Oktober","November","December"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeek:["Søn","Man","Tir","Ons","Tor","Fre","Lør"]},ja:{months:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["日","月","火","水","木","金","土"]},vi:{months:["Tháng 1","Tháng 2","Tháng 3","Tháng 4","Tháng 5","Tháng 6","Tháng 7","Tháng 8","Tháng 9","Tháng 10","Tháng 11","Tháng 12"],dayOfWeek:["CN","T2","T3","T4","T5","T6","T7"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeek:["Ned","Pon","Tor","Sre","Čet","Pet","Sob"]},cs:{months:["Leden","Únor","Březen","Duben","Květen","Červen","Červenec","Srpen","Září","Říjen","Listopad","Prosinec"],dayOfWeek:["Ne","Po","Út","St","Čt","Pá","So"]},hu:{months:["Január","Február","Március","Április","Május","Június","Július","Augusztus","Szeptember","Október","November","December"],dayOfWeek:["Va","Hé","Ke","Sze","Cs","Pé","Szo"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeek:["B","Be","Ça","Ç","Ca","C","Ş"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ca:{months:["Gener","Febrer","Març","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeek:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},et:{months:["Jaanuar","Veebruar","Märts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeek:["P","E","T","K","N","R","L"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeek:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeek:["Su","Ma","Ti","Ke","To","Pe","La"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeek:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"]},hr:{months:["Siječanj","Veljača","Ožujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeek:["Ned","Pon","Uto","Sri","Čet","Pet","Sub"]},ko:{months:["1월","2월","3월","4월","5월","6월","7월","8월","9월","10월","11월","12월"],dayOfWeek:["일","월","화","수","목","금","토"]},lt:{months:["Sausio","Vasario","Kovo","Balandžio","Gegužės","Birželio","Liepos","Rugpjūčio","Rugsėjo","Spalio","Lapkričio","Gruodžio"],dayOfWeek:["Sek","Pir","Ant","Tre","Ket","Pen","Šeš"]},lv:{months:["Janvāris","Februāris","Marts","Aprīlis ","Maijs","Jūnijs","Jūlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeek:["Sv","Pr","Ot","Tr","Ct","Pk","St"]},mk:{months:["јануари","февруари","март","април","мај","јуни","јули","август","септември","октомври","ноември","декември"],dayOfWeek:["нед","пон","вто","сре","чет","пет","саб"]},mn:{months:["1-р сар","2-р сар","3-р сар","4-р сар","5-р сар","6-р сар","7-р сар","8-р сар","9-р сар","10-р сар","11-р сар","12-р сар"],dayOfWeek:["Дав","Мяг","Лха","Пүр","Бсн","Бям","Ням"]},"pt-BR":{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeek:["Dom","Seg","Ter","Qua","Qui","Sex","Sáb"]},sk:{months:["Január","Február","Marec","Apríl","Máj","Jún","Júl","August","September","Október","November","December"],dayOfWeek:["Ne","Po","Ut","St","Št","Pi","So"]},sq:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeek:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeek:["Ned","Pon","Uto","Sre","čet","Pet","Sub"]},sr:{months:["јануар","фебруар","март","април","мај","јун","јул","август","септембар","октобар","новембар","децембар"],dayOfWeek:["нед","пон","уто","сре","чет","пет","суб"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeek:["Sön","Mån","Tis","Ons","Tor","Fre","Lör"]},"zh-TW":{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},zh:{months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],dayOfWeek:["日","一","二","三","四","五","六"]},he:{months:["ינואר","פברואר","מרץ","אפריל","מאי","יוני","יולי","אוגוסט","ספטמבר","אוקטובר","נובמבר","דצמבר"],dayOfWeek:["א'","ב'","ג'","ד'","ה'","ו'","שבת"]},hy:{months:["Հունվար","Փետրվար","Մարտ","Ապրիլ","Մայիս","Հունիս","Հուլիս","Օգոստոս","Սեպտեմբեր","Հոկտեմբեր","Նոյեմբեր","Դեկտեմբեր"],dayOfWeek:["Կի","Երկ","Երք","Չոր","Հնգ","Ուրբ","Շբթ"]},kg:{months:["Үчтүн айы","Бирдин айы","Жалган Куран","Чын Куран","Бугу","Кулжа","Теке","Баш Оона","Аяк Оона","Тогуздун айы","Жетинин айы","Бештин айы"],dayOfWeek:["Жек","Дүй","Шей","Шар","Бей","Жум","Ише"]}},value:"",lang:"en",format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],disabledDates:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1};Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var n,a;for(n=t||0,a=this.length;a>n;n+=1)if(this[n]===e)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},e.fn.xdsoftScroller=function(t){return this.each(function(){var n,a,i,r,o,s=e(this),d=function(e){var t,n={x:0,y:0};return"touchstart"===e.type||"touchmove"===e.type||"touchend"===e.type||"touchcancel"===e.type?(t=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0],n.x=t.clientX,n.y=t.clientY):("mousedown"===e.type||"mouseup"===e.type||"mousemove"===e.type||"mouseover"===e.type||"mouseout"===e.type||"mouseenter"===e.type||"mouseleave"===e.type)&&(n.x=e.clientX,n.y=e.clientY),n},l=100,u=!1,c=0,f=0,h=0,m=!1,p=0,g=function(){};return"hide"===t?void s.find(".xdsoft_scrollbar").hide():(e(this).hasClass("xdsoft_scroller_box")||(n=s.children().eq(0),a=s[0].clientHeight,i=n[0].offsetHeight,r=e('<div class="xdsoft_scrollbar"></div>'),o=e('<div class="xdsoft_scroller"></div>'),r.append(o),s.addClass("xdsoft_scroller_box").append(r),g=function(e){var t=d(e).y-c+p;0>t&&(t=0),t+o[0].offsetHeight>h&&(t=h-o[0].offsetHeight),s.trigger("scroll_element.xdsoft_scroller",[l?t/l:0])},o.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",function(n){a||s.trigger("resize_scroll.xdsoft_scroller",[t]),c=d(n).y,p=parseInt(o.css("margin-top"),10),h=r[0].offsetHeight,"mousedown"===n.type?(document&&e(document.body).addClass("xdsoft_noselect"),e([document.body,window]).on("mouseup.xdsoft_scroller",function i(){e([document.body,window]).off("mouseup.xdsoft_scroller",i).off("mousemove.xdsoft_scroller",g).removeClass("xdsoft_noselect")}),e(document.body).on("mousemove.xdsoft_scroller",g)):(m=!0,n.stopPropagation(),n.preventDefault())}).on("touchmove",function(e){m&&(e.preventDefault(),g(e))}).on("touchend touchcancel",function(e){m=!1,p=0}),s.on("scroll_element.xdsoft_scroller",function(e,t){a||s.trigger("resize_scroll.xdsoft_scroller",[t,!0]),t=t>1?1:0>t||isNaN(t)?0:t,o.css("margin-top",l*t),setTimeout(function(){n.css("marginTop",-parseInt((n[0].offsetHeight-a)*t,10))},10)}).on("resize_scroll.xdsoft_scroller",function(e,t,d){var u,c;a=s[0].clientHeight,i=n[0].offsetHeight,u=a/i,c=u*r[0].offsetHeight,u>1?o.hide():(o.show(),o.css("height",parseInt(c>10?c:10,10)),l=r[0].offsetHeight-o[0].offsetHeight,d!==!0&&s.trigger("scroll_element.xdsoft_scroller",[t||Math.abs(parseInt(n.css("marginTop"),10))/(i-a)]))}),s.on("mousewheel",function(e){var t=Math.abs(parseInt(n.css("marginTop"),10));return t-=20*e.deltaY,0>t&&(t=0),s.trigger("scroll_element.xdsoft_scroller",[t/(i-a)]),e.stopPropagation(),!1}),s.on("touchstart",function(e){u=d(e),f=Math.abs(parseInt(n.css("marginTop"),10))}),s.on("touchmove",function(e){if(u){e.preventDefault();var t=d(e);s.trigger("scroll_element.xdsoft_scroller",[(f-(t.y-u.y))/(i-a)])}}),s.on("touchend touchcancel",function(e){u=!1,f=0})),void s.trigger("resize_scroll.xdsoft_scroller",[t]))})},e.fn.datetimepicker=function(n){var a,i,r=48,o=57,s=96,d=105,l=17,u=46,c=13,f=27,h=8,m=37,p=38,g=39,v=40,w=9,y=116,x=65,b=67,D=86,T=90,k=89,_=!1,M=e.isPlainObject(n)||!n?e.extend(!0,{},t,n):e.extend(!0,{},t),S=0,C=function(e){e.on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function t(n){e.is(":disabled")||e.data("xdsoft_datetimepicker")||(clearTimeout(S),S=setTimeout(function(){e.data("xdsoft_datetimepicker")||a(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft",t).trigger("open.xdsoft")},100))})};return a=function(t){function a(){var e,n=!1;return M.startDate?n=A.strToDate(M.startDate):(n=M.value||(t&&t.val&&t.val()?t.val():""),n?n=A.strToDateTime(n):M.defaultDate&&(n=A.strToDateTime(M.defaultDate),M.defaultTime&&(e=A.strtotime(M.defaultTime),n.setHours(e.getHours()),n.setMinutes(e.getMinutes())))),n&&A.isValidDate(n)?$.data("changed",!0):n="",n||0}var i,S,C,O,F,A,$=e('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),I=e('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),W=e('<div class="xdsoft_datepicker active"></div>'),P=e('<div class="xdsoft_mounthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),N=e('<div class="xdsoft_calendar"></div>'),z=e('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),H=z.find(".xdsoft_time_box").eq(0),Y=e('<div class="xdsoft_time_variant"></div>'),j=e('<button class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),J=e('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),B=e('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),q=!1,L=0,R=0;M.id&&$.attr("id",M.id),M.style&&$.attr("style",M.style),M.weeks&&$.addClass("xdsoft_showweeks"),$.addClass("xdsoft_"+M.theme),$.addClass(M.className),P.find(".xdsoft_month span").after(J),P.find(".xdsoft_year span").after(B),P.find(".xdsoft_month,.xdsoft_year").on("mousedown.xdsoft",function(t){var n,a,i=e(this).find(".xdsoft_select").eq(0),r=0,o=0,s=i.is(":visible");for(P.find(".xdsoft_select").hide(),A.currentTime&&(r=A.currentTime[e(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),i[s?"hide":"show"](),n=i.find("div.xdsoft_option"),a=0;a<n.length&&n.eq(a).data("value")!==r;a+=1)o+=n[0].offsetHeight;return i.xdsoftScroller(o/(i.children()[0].offsetHeight-i[0].clientHeight)),t.stopPropagation(),!1}),P.find(".xdsoft_select").xdsoftScroller().on("mousedown.xdsoft",function(e){e.stopPropagation(),e.preventDefault()}).on("mousedown.xdsoft",".xdsoft_option",function(t){(void 0===A.currentTime||null===A.currentTime)&&(A.currentTime=A.now());var n=A.currentTime.getFullYear();A&&A.currentTime&&A.currentTime[e(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](e(this).data("value")),e(this).parent().parent().hide(),$.trigger("xchange.xdsoft"),M.onChangeMonth&&e.isFunction(M.onChangeMonth)&&M.onChangeMonth.call($,A.currentTime,$.data("input")),n!==A.currentTime.getFullYear()&&e.isFunction(M.onChangeYear)&&M.onChangeYear.call($,A.currentTime,$.data("input"))}),$.setOptions=function(n){var a={},i=function(e){try{if(document.selection&&document.selection.createRange){var t=document.selection.createRange();return t.getBookmark().charCodeAt(2)-2}if(e.setSelectionRange)return e.selectionStart}catch(n){return 0}},S=function(e,t){if(e="string"==typeof e||e instanceof String?document.getElementById(e):e,!e)return!1;if(e.createTextRange){var n=e.createTextRange();return n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",t),n.select(),!0}return e.setSelectionRange?(e.setSelectionRange(t,t),!0):!1},C=function(e,t){var n=e.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(t)};M=e.extend(!0,{},M,n),n.allowTimes&&e.isArray(n.allowTimes)&&n.allowTimes.length&&(M.allowTimes=e.extend(!0,[],n.allowTimes)),n.weekends&&e.isArray(n.weekends)&&n.weekends.length&&(M.weekends=e.extend(!0,[],n.weekends)),n.highlightedDates&&e.isArray(n.highlightedDates)&&n.highlightedDates.length&&(e.each(n.highlightedDates,function(t,n){var i,r=e.map(n.split(","),e.trim),o=new HighlightedDate(Date.parseDate(r[0],M.formatDate),r[1],r[2]),s=o.date.dateFormat(M.formatDate);void 0!==a[s]?(i=a[s].desc,i&&i.length&&o.desc&&o.desc.length&&(a[s].desc=i+"\n"+o.desc)):a[s]=o}),M.highlightedDates=e.extend(!0,[],a)),n.highlightedPeriods&&e.isArray(n.highlightedPeriods)&&n.highlightedPeriods.length&&(a=e.extend(!0,[],M.highlightedDates),e.each(n.highlightedPeriods,function(t,n){for(var i,r,o,s=e.map(n.split(","),e.trim),d=Date.parseDate(s[0],M.formatDate),l=Date.parseDate(s[1],M.formatDate),u=s[2],c=s[3];l>=d;)i=new HighlightedDate(d,u,c),r=d.dateFormat(M.formatDate),d.setDate(d.getDate()+1),void 0!==a[r]?(o=a[r].desc,o&&o.length&&i.desc&&i.desc.length&&(a[r].desc=o+"\n"+i.desc)):a[r]=i}),M.highlightedDates=e.extend(!0,[],a)),n.disabledDates&&e.isArray(n.disabledDates)&&n.disabledDates.length&&(M.disabledDates=e.extend(!0,[],n.disabledDates)),!M.open&&!M.opened||M.inline||t.trigger("open.xdsoft"),M.inline&&(q=!0,$.addClass("xdsoft_inline"),t.after($).hide()),M.inverseButton&&(M.next="xdsoft_prev",M.prev="xdsoft_next"),M.datepicker?W.addClass("active"):W.removeClass("active"),M.timepicker?z.addClass("active"):z.removeClass("active"),M.value&&(A.setCurrentTime(M.value),t&&t.val&&t.val(A.str)),isNaN(M.dayOfWeekStart)?M.dayOfWeekStart=0:M.dayOfWeekStart=parseInt(M.dayOfWeekStart,10)%7,M.timepickerScrollbar||H.xdsoftScroller("hide"),M.minDate&&/^-(.*)$/.test(M.minDate)&&(M.minDate=A.strToDateTime(M.minDate).dateFormat(M.formatDate)),M.maxDate&&/^\+(.*)$/.test(M.maxDate)&&(M.maxDate=A.strToDateTime(M.maxDate).dateFormat(M.formatDate)),j.toggle(M.showApplyButton),P.find(".xdsoft_today_button").css("visibility",M.todayButton?"visible":"hidden"),P.find("."+M.prev).css("visibility",M.prevButton?"visible":"hidden"),P.find("."+M.next).css("visibility",M.nextButton?"visible":"hidden"),M.mask&&(t.off("keydown.xdsoft"),M.mask===!0&&(M.mask=M.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===e.type(M.mask)&&(C(M.mask,t.val())||t.val(M.mask.replace(/[0-9]/g,"_")),t.on("keydown.xdsoft",function(n){var a,O,F=this.value,A=n.which;if(A>=r&&o>=A||A>=s&&d>=A||A===h||A===u){for(a=i(this),O=A!==h&&A!==u?String.fromCharCode(A>=s&&d>=A?A-r:A):"_",A!==h&&A!==u||!a||(a-=1,O="_");/[^0-9_]/.test(M.mask.substr(a,1))&&a<M.mask.length&&a>0;)a+=A===h||A===u?-1:1;if(F=F.substr(0,a)+O+F.substr(a+1),""===e.trim(F))F=M.mask.replace(/[0-9]/g,"_");else if(a===M.mask.length)return n.preventDefault(),!1;for(a+=A===h||A===u?0:1;/[^0-9_]/.test(M.mask.substr(a,1))&&a<M.mask.length&&a>0;)a+=A===h||A===u?-1:1;C(M.mask,F)?(this.value=F,S(this,a)):""===e.trim(F)?this.value=M.mask.replace(/[0-9]/g,"_"):t.trigger("error_input.xdsoft")}else if(-1!==[x,b,D,T,k].indexOf(A)&&_||-1!==[f,p,v,m,g,y,l,w,c].indexOf(A))return!0;return n.preventDefault(),!1}))),M.validateOnBlur&&t.off("blur.xdsoft").on("blur.xdsoft",function(){if(M.allowBlank&&!e.trim(e(this).val()).length)e(this).val(null),$.data("xdsoft_datetime").empty();else if(Date.parseDate(e(this).val(),M.format))$.data("xdsoft_datetime").setCurrentTime(e(this).val());else{var t=+[e(this).val()[0],e(this).val()[1]].join(""),n=+[e(this).val()[2],e(this).val()[3]].join("");!M.datepicker&&M.timepicker&&t>=0&&24>t&&n>=0&&60>n?e(this).val([t,n].map(function(e){return e>9?e:"0"+e}).join(":")):e(this).val(A.now().dateFormat(M.format)),$.data("xdsoft_datetime").setCurrentTime(e(this).val())}$.trigger("changedatetime.xdsoft")}),M.dayOfWeekStartPrev=0===M.dayOfWeekStart?6:M.dayOfWeekStart-1,$.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},$.data("options",M).on("mousedown.xdsoft",function(e){return e.stopPropagation(),e.preventDefault(),B.hide(),J.hide(),!1}),H.append(Y),H.xdsoftScroller(),$.on("afterOpen.xdsoft",function(){H.xdsoftScroller()}),$.append(W).append(z),M.withoutCopyright!==!0&&$.append(I),W.append(P).append(N).append(j),e(M.parentID).append($),i=function(){var t=this;t.now=function(e){var n,a,i=new Date;return!e&&M.defaultDate&&(n=t.strToDateTime(M.defaultDate),i.setFullYear(n.getFullYear()),i.setMonth(n.getMonth()),i.setDate(n.getDate())),M.yearOffset&&i.setFullYear(i.getFullYear()+M.yearOffset),!e&&M.defaultTime&&(a=t.strtotime(M.defaultTime),i.setHours(a.getHours()),i.setMinutes(a.getMinutes())),i},t.isValidDate=function(e){return"[object Date]"!==Object.prototype.toString.call(e)?!1:!isNaN(e.getTime())},t.setCurrentTime=function(e){t.currentTime="string"==typeof e?t.strToDateTime(e):t.isValidDate(e)?e:t.now(),$.trigger("xchange.xdsoft")},t.empty=function(){t.currentTime=null},t.getCurrentTime=function(e){return t.currentTime},t.nextMonth=function(){(void 0===t.currentTime||null===t.currentTime)&&(t.currentTime=t.now());var n,a=t.currentTime.getMonth()+1;return 12===a&&(t.currentTime.setFullYear(t.currentTime.getFullYear()+1),a=0),n=t.currentTime.getFullYear(),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),a+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(a),M.onChangeMonth&&e.isFunction(M.onChangeMonth)&&M.onChangeMonth.call($,A.currentTime,$.data("input")),n!==t.currentTime.getFullYear()&&e.isFunction(M.onChangeYear)&&M.onChangeYear.call($,A.currentTime,$.data("input")),$.trigger("xchange.xdsoft"),a},t.prevMonth=function(){(void 0===t.currentTime||null===t.currentTime)&&(t.currentTime=t.now());var n=t.currentTime.getMonth()-1;return-1===n&&(t.currentTime.setFullYear(t.currentTime.getFullYear()-1),n=11),t.currentTime.setDate(Math.min(new Date(t.currentTime.getFullYear(),n+1,0).getDate(),t.currentTime.getDate())),t.currentTime.setMonth(n),M.onChangeMonth&&e.isFunction(M.onChangeMonth)&&M.onChangeMonth.call($,A.currentTime,$.data("input")),$.trigger("xchange.xdsoft"),n},t.getWeekOfYear=function(e){var t=new Date(e.getFullYear(),0,1);return Math.ceil(((e-t)/864e5+t.getDay()+1)/7)},t.strToDateTime=function(e){var n,a,i=[];return e&&e instanceof Date&&t.isValidDate(e)?e:(i=/^(\+|\-)(.*)$/.exec(e),i&&(i[2]=Date.parseDate(i[2],M.formatDate)),i&&i[2]?(n=i[2].getTime()-6e4*i[2].getTimezoneOffset(),a=new Date(t.now(!0).getTime()+parseInt(i[1]+"1",10)*n)):a=e?Date.parseDate(e,M.format):t.now(),t.isValidDate(a)||(a=t.now()),a)},t.strToDate=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?Date.parseDate(e,M.formatDate):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.strtotime=function(e){if(e&&e instanceof Date&&t.isValidDate(e))return e;var n=e?Date.parseDate(e,M.formatTime):t.now(!0);return t.isValidDate(n)||(n=t.now(!0)),n},t.str=function(){return t.currentTime.dateFormat(M.format)},t.currentTime=this.now()},A=new i,j.on("click",function(e){e.preventDefault(),$.data("changed",!0),A.setCurrentTime(a()),t.val(A.str()),$.trigger("close.xdsoft")}),P.find(".xdsoft_today_button").on("mousedown.xdsoft",function(){$.data("changed",!0),A.setCurrentTime(0),$.trigger("afterOpen.xdsoft")}).on("dblclick.xdsoft",function(){var e=A.getCurrentTime();e=new Date(e.getFullYear(),e.getMonth(),e.getDate());var n=A.strToDate(M.minDate);if(n=new Date(n.getFullYear(),n.getMonth(),n.getDate()),!(n>e)){var a=A.strToDate(M.maxDate);a=new Date(a.getFullYear(),a.getMonth(),a.getDate()),e>a||(t.val(A.str()),$.trigger("close.xdsoft"))}}),P.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,a=!1;!function i(e){t.hasClass(M.next)?A.nextMonth():t.hasClass(M.prev)&&A.prevMonth(),M.monthChangeSpinner&&(a||(n=setTimeout(i,e||100)))}(500),e([document.body,window]).on("mouseup.xdsoft",function r(){clearTimeout(n),a=!0,e([document.body,window]).off("mouseup.xdsoft",r)})}),z.find(".xdsoft_prev,.xdsoft_next").on("mousedown.xdsoft",function(){var t=e(this),n=0,a=!1,i=110;!function r(e){var o=H[0].clientHeight,s=Y[0].offsetHeight,d=Math.abs(parseInt(Y.css("marginTop"),10));t.hasClass(M.next)&&s-o-M.timeHeightInTimePicker>=d?Y.css("marginTop","-"+(d+M.timeHeightInTimePicker)+"px"):t.hasClass(M.prev)&&d-M.timeHeightInTimePicker>=0&&Y.css("marginTop","-"+(d-M.timeHeightInTimePicker)+"px"),H.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(Y.css("marginTop"),10)/(s-o))]),i=i>10?10:i-10,a||(n=setTimeout(r,e||i))}(500),e([document.body,window]).on("mouseup.xdsoft",function o(){clearTimeout(n),a=!0,e([document.body,window]).off("mouseup.xdsoft",o)})}),S=0,$.on("xchange.xdsoft",function(t){clearTimeout(S),S=setTimeout(function(){(void 0===A.currentTime||null===A.currentTime)&&(A.currentTime=A.now());for(var t,a,i,r,o,s,d,l,u,c="",f=new Date(A.currentTime.getFullYear(),A.currentTime.getMonth(),1,12,0,0),h=0,m=A.now(),p=!1,g=!1,v=[],w=!0,y="",x="";f.getDay()!==M.dayOfWeekStart;)f.setDate(f.getDate()-1);for(c+="<table><thead><tr>",M.weeks&&(c+="<th></th>"),t=0;7>t;t+=1)c+="<th>"+M.i18n[M.lang].dayOfWeek[(t+M.dayOfWeekStart)%7]+"</th>";for(c+="</tr></thead>",c+="<tbody>",M.maxDate!==!1&&(p=A.strToDate(M.maxDate),p=new Date(p.getFullYear(),p.getMonth(),p.getDate(),23,59,59,999)),M.minDate!==!1&&(g=A.strToDate(M.minDate),g=new Date(g.getFullYear(),g.getMonth(),g.getDate()));h<A.currentTime.countDaysInMonth()||f.getDay()!==M.dayOfWeekStart||A.currentTime.getMonth()===f.getMonth();)v=[],h+=1,i=f.getDate(),r=f.getFullYear(),o=f.getMonth(),s=A.getWeekOfYear(f),u="",v.push("xdsoft_date"),d=M.beforeShowDay&&e.isFunction(M.beforeShowDay.call)?M.beforeShowDay.call($,f):null,p!==!1&&f>p||g!==!1&&g>f||d&&d[0]===!1?v.push("xdsoft_disabled"):-1!==M.disabledDates.indexOf(f.dateFormat(M.formatDate))&&v.push("xdsoft_disabled"),d&&""!==d[1]&&v.push(d[1]),A.currentTime.getMonth()!==o&&v.push("xdsoft_other_month"),(M.defaultSelect||$.data("changed"))&&A.currentTime.dateFormat(M.formatDate)===f.dateFormat(M.formatDate)&&v.push("xdsoft_current"),m.dateFormat(M.formatDate)===f.dateFormat(M.formatDate)&&v.push("xdsoft_today"),(0===f.getDay()||6===f.getDay()||-1!==M.weekends.indexOf(f.dateFormat(M.formatDate)))&&v.push("xdsoft_weekend"),void 0!==M.highlightedDates[f.dateFormat(M.formatDate)]&&(a=M.highlightedDates[f.dateFormat(M.formatDate)],v.push(void 0===a.style?"xdsoft_highlighted_default":a.style),u=void 0===a.desc?"":a.desc),M.beforeShowDay&&e.isFunction(M.beforeShowDay)&&v.push(M.beforeShowDay(f)),w&&(c+="<tr>",w=!1,M.weeks&&(c+="<th>"+s+"</th>")),c+='<td data-date="'+i+'" data-month="'+o+'" data-year="'+r+'" class="xdsoft_date xdsoft_day_of_week'+f.getDay()+" "+v.join(" ")+'" title="'+u+'"><div>'+i+"</div></td>",f.getDay()===M.dayOfWeekStartPrev&&(c+="</tr>",w=!0),f.setDate(i+1);if(c+="</tbody></table>",N.html(c),P.find(".xdsoft_label span").eq(0).text(M.i18n[M.lang].months[A.currentTime.getMonth()]),P.find(".xdsoft_label span").eq(1).text(A.currentTime.getFullYear()),y="",x="",o="",l=function(e,t){var n,a,i=A.now();i.setHours(e),e=parseInt(i.getHours(),10),i.setMinutes(t),t=parseInt(i.getMinutes(),10),n=new Date(A.currentTime),n.setHours(e),n.setMinutes(t),v=[],(M.minDateTime!==!1&&M.minDateTime>n||M.maxTime!==!1&&A.strtotime(M.maxTime).getTime()<i.getTime()||M.minTime!==!1&&A.strtotime(M.minTime).getTime()>i.getTime())&&v.push("xdsoft_disabled"),a=new Date(A.currentTime),a.setHours(parseInt(A.currentTime.getHours(),10)),a.setMinutes(Math[M.roundTime](A.currentTime.getMinutes()/M.step)*M.step),(M.initTime||M.defaultSelect||$.data("changed"))&&a.getHours()===parseInt(e,10)&&(M.step>59||a.getMinutes()===parseInt(t,10))&&(M.defaultSelect||$.data("changed")?v.push("xdsoft_current"):M.initTime&&v.push("xdsoft_init_time")),parseInt(m.getHours(),10)===parseInt(e,10)&&parseInt(m.getMinutes(),10)===parseInt(t,10)&&v.push("xdsoft_today"),y+='<div class="xdsoft_time '+v.join(" ")+'" data-hour="'+e+'" data-minute="'+t+'">'+i.dateFormat(M.formatTime)+"</div>"},M.allowTimes&&e.isArray(M.allowTimes)&&M.allowTimes.length)for(h=0;h<M.allowTimes.length;h+=1)x=A.strtotime(M.allowTimes[h]).getHours(),o=A.strtotime(M.allowTimes[h]).getMinutes(),l(x,o);else for(h=0,t=0;h<(M.hours12?12:24);h+=1)for(t=0;60>t;t+=M.step)x=(10>h?"0":"")+h,o=(10>t?"0":"")+t,l(x,o);for(Y.html(y),n="",h=0,h=parseInt(M.yearStart,10)+M.yearOffset;h<=parseInt(M.yearEnd,10)+M.yearOffset;h+=1)n+='<div class="xdsoft_option '+(A.currentTime.getFullYear()===h?"xdsoft_current":"")+'" data-value="'+h+'">'+h+"</div>";for(B.children().eq(0).html(n),h=parseInt(M.monthStart,10),n="";h<=parseInt(M.monthEnd,10);h+=1)n+='<div class="xdsoft_option '+(A.currentTime.getMonth()===h?"xdsoft_current":"")+'" data-value="'+h+'">'+M.i18n[M.lang].months[h]+"</div>";J.children().eq(0).html(n),e($).trigger("generate.xdsoft")},10),t.stopPropagation()}).on("afterOpen.xdsoft",function(){if(M.timepicker){var e,t,n,a;Y.find(".xdsoft_current").length?e=".xdsoft_current":Y.find(".xdsoft_init_time").length&&(e=".xdsoft_init_time"),e?(t=H[0].clientHeight,n=Y[0].offsetHeight,a=Y.find(e).index()*M.timeHeightInTimePicker+1,a>n-t&&(a=n-t),H.trigger("scroll_element.xdsoft_scroller",[parseInt(a,10)/(n-t)])):H.trigger("scroll_element.xdsoft_scroller",[0])}}),C=0,N.on("click.xdsoft","td",function(n){n.stopPropagation(),C+=1;var a=e(this),i=A.currentTime;return(void 0===i||null===i)&&(A.currentTime=A.now(),i=A.currentTime),a.hasClass("xdsoft_disabled")?!1:(i.setDate(1),i.setFullYear(a.data("year")),i.setMonth(a.data("month")),i.setDate(a.data("date")),$.trigger("select.xdsoft",[i]),t.val(A.str()),(C>1||M.closeOnDateSelect===!0||0===M.closeOnDateSelect&&!M.timepicker)&&!M.inline&&$.trigger("close.xdsoft"),M.onSelectDate&&e.isFunction(M.onSelectDate)&&M.onSelectDate.call($,A.currentTime,$.data("input"),n),$.data("changed",!0),$.trigger("xchange.xdsoft"),$.trigger("changedatetime.xdsoft"),void setTimeout(function(){C=0},200))}),Y.on("click.xdsoft","div",function(t){t.stopPropagation();var n=e(this),a=A.currentTime;return(void 0===a||null===a)&&(A.currentTime=A.now(),a=A.currentTime),n.hasClass("xdsoft_disabled")?!1:(a.setHours(n.data("hour")),a.setMinutes(n.data("minute")),$.trigger("select.xdsoft",[a]),$.data("input").val(A.str()),M.inline!==!0&&M.closeOnTimeSelect===!0&&$.trigger("close.xdsoft"),M.onSelectTime&&e.isFunction(M.onSelectTime)&&M.onSelectTime.call($,A.currentTime,$.data("input"),t),$.data("changed",!0),$.trigger("xchange.xdsoft"),
void $.trigger("changedatetime.xdsoft"))}),W.on("mousewheel.xdsoft",function(e){return M.scrollMonth?(e.deltaY<0?A.nextMonth():A.prevMonth(),!1):!0}),t.on("mousewheel.xdsoft",function(e){return M.scrollInput?!M.datepicker&&M.timepicker?(O=Y.find(".xdsoft_current").length?Y.find(".xdsoft_current").eq(0).index():0,O+e.deltaY>=0&&O+e.deltaY<Y.children().length&&(O+=e.deltaY),Y.children().eq(O).length&&Y.children().eq(O).trigger("mousedown"),!1):M.datepicker&&!M.timepicker?(W.trigger(e,[e.deltaY,e.deltaX,e.deltaY]),t.val&&t.val(A.str()),$.trigger("changedatetime.xdsoft"),!1):void 0:!0}),$.on("changedatetime.xdsoft",function(t){if(M.onChangeDateTime&&e.isFunction(M.onChangeDateTime)){var n=$.data("input");M.onChangeDateTime.call($,A.currentTime,n,t),delete M.value,n.trigger("change")}}).on("generate.xdsoft",function(){M.onGenerate&&e.isFunction(M.onGenerate)&&M.onGenerate.call($,A.currentTime,$.data("input")),q&&($.trigger("afterOpen.xdsoft"),q=!1)}).on("click.xdsoft",function(e){e.stopPropagation()}),O=0,F=function(){var t=$.data("input").offset(),n=t.top+$.data("input")[0].offsetHeight-1,a=t.left,i="absolute";M.fixed?(n-=e(window).scrollTop(),a-=e(window).scrollLeft(),i="fixed"):(n+$[0].offsetHeight>e(window).height()+e(window).scrollTop()&&(n=t.top-$[0].offsetHeight+1),0>n&&(n=0),a+$[0].offsetWidth>e(window).width()&&(a=e(window).width()-$[0].offsetWidth));var r=$[0];do if(r=r.parentNode,"relative"===window.getComputedStyle(r).getPropertyValue("position")&&e(window).width()>=r.offsetWidth){a-=(e(window).width()-r.offsetWidth)/2;break}while("HTML"!=r.nodeName);$.css({left:a,top:n,position:i})},$.on("open.xdsoft",function(t){var n=!0;M.onShow&&e.isFunction(M.onShow)&&(n=M.onShow.call($,A.currentTime,$.data("input"),t)),n!==!1&&($.show(),F(),e(window).off("resize.xdsoft",F).on("resize.xdsoft",F),M.closeOnWithoutClick&&e([document.body,window]).on("mousedown.xdsoft",function a(){$.trigger("close.xdsoft"),e([document.body,window]).off("mousedown.xdsoft",a)}))}).on("close.xdsoft",function(t){var n=!0;P.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),M.onClose&&e.isFunction(M.onClose)&&(n=M.onClose.call($,A.currentTime,$.data("input"),t)),n===!1||M.opened||M.inline||$.hide(),t.stopPropagation()}).on("toggle.xdsoft",function(e){$.is(":visible")?$.trigger("close.xdsoft"):$.trigger("open.xdsoft")}).data("input",t),L=0,R=0,$.data("xdsoft_datetime",A),$.setOptions(M),A.setCurrentTime(a()),t.data("xdsoft_datetimepicker",$).on("open.xdsoft focusin.xdsoft mousedown.xdsoft",function(e){t.is(":disabled")||t.data("xdsoft_datetimepicker").is(":visible")&&M.closeOnInputClick||(clearTimeout(L),L=setTimeout(function(){t.is(":disabled")||(q=!0,A.setCurrentTime(a()),$.trigger("open.xdsoft"))},100))}).on("keydown.xdsoft",function(t){var n,a=(this.value,t.which);return-1!==[c].indexOf(a)&&M.enterLikeTab?(n=e("input:visible,textarea:visible"),$.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[w].indexOf(a)?($.trigger("close.xdsoft"),!0):void 0})},i=function(t){var n=t.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),t.data("xdsoft_datetimepicker",null).off(".xdsoft"),e(window).off("resize.xdsoft"),e([window,document.body]).off("mousedown.xdsoft"),t.unmousewheel&&t.unmousewheel())},e(document).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",function(e){e.keyCode===l&&(_=!0)}).on("keyup.xdsoftctrl",function(e){e.keyCode===l&&(_=!1)}),this.each(function(){var t,r=e(this).data("xdsoft_datetimepicker");if(r){if("string"===e.type(n))switch(n){case"show":e(this).select().focus(),r.trigger("open.xdsoft");break;case"hide":r.trigger("close.xdsoft");break;case"toggle":r.trigger("toggle.xdsoft");break;case"destroy":i(e(this));break;case"reset":this.value=this.defaultValue,this.value&&r.data("xdsoft_datetime").isValidDate(Date.parseDate(this.value,M.format))||r.data("changed",!1),r.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":t=r.data("input"),t.trigger("blur.xdsoft")}else r.setOptions(n);return 0}"string"!==e.type(n)&&(!M.lazyInit||M.open||M.inline?a(e(this)):C(e(this)))})},e.fn.datetimepicker.defaults=t}(jQuery),function(){!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var o=t||window.event,s=d.call(arguments,1),l=0,c=0,f=0,h=0,m=0,p=0;if(t=e.event.fix(o),t.type="mousewheel","detail"in o&&(f=-1*o.detail),"wheelDelta"in o&&(f=o.wheelDelta),"wheelDeltaY"in o&&(f=o.wheelDeltaY),"wheelDeltaX"in o&&(c=-1*o.wheelDeltaX),"axis"in o&&o.axis===o.HORIZONTAL_AXIS&&(c=-1*f,f=0),l=0===f?c:f,"deltaY"in o&&(f=-1*o.deltaY,l=f),"deltaX"in o&&(c=o.deltaX,0===f&&(l=-1*c)),0!==f||0!==c){if(1===o.deltaMode){var g=e.data(this,"mousewheel-line-height");l*=g,f*=g,c*=g}else if(2===o.deltaMode){var v=e.data(this,"mousewheel-page-height");l*=v,f*=v,c*=v}if(h=Math.max(Math.abs(f),Math.abs(c)),(!r||r>h)&&(r=h,a(o,h)&&(r/=40)),a(o,h)&&(l/=40,c/=40,f/=40),l=Math[l>=1?"floor":"ceil"](l/r),c=Math[c>=1?"floor":"ceil"](c/r),f=Math[f>=1?"floor":"ceil"](f/r),u.settings.normalizeOffset&&this.getBoundingClientRect){var w=this.getBoundingClientRect();m=t.clientX-w.left,p=t.clientY-w.top}return t.deltaX=c,t.deltaY=f,t.deltaFactor=r,t.offsetX=m,t.offsetY=p,t.deltaMode=0,s.unshift(t,l,c,f),i&&clearTimeout(i),i=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){r=null}function a(e,t){return u.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var i,r,o=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],d=Array.prototype.slice;if(e.event.fixHooks)for(var l=o.length;l;)e.event.fixHooks[o[--l]]=e.event.mouseHooks;var u=e.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",u.getLineHeight(this)),e.data(this,"mousewheel-page-height",u.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var n=s.length;n;)this.removeEventListener(s[--n],t,!1);else this.onmousewheel=null;e.removeData(this,"mousewheel-line-height"),e.removeData(this,"mousewheel-page-height")},getLineHeight:function(t){var n=e(t),a=n["offsetParent"in e.fn?"offsetParent":"parent"]();return a.length||(a=e("body")),parseInt(a.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),Date.parseFunctions={count:0},Date.parseRegexes=[],Date.formatFunctions={count:0},Date.prototype.dateFormat=function(e){if("unixtime"==e)return parseInt(this.getTime()/1e3);null==Date.formatFunctions[e]&&Date.createNewFormat(e);var t=Date.formatFunctions[e];return this[t]()},Date.createNewFormat=function(format){var funcName="format"+Date.formatFunctions.count++;Date.formatFunctions[format]=funcName;for(var codePrefix="Date.prototype."+funcName+" = function() {return ",code="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,code+="'"+String.escape(ch)+"' + "):code+=Date.getFormatCode(ch):special=!0;code=0==code.length?'""':code.substring(0,code.length-3),eval(codePrefix+code+";}")},Date.getFormatCode=function(e){switch(e){case"d":return"String.leftPad(this.getDate(), 2, '0') + ";case"D":return"Date.dayNames[this.getDay()].substring(0, 3) + ";case"j":return"this.getDate() + ";case"l":return"Date.dayNames[this.getDay()] + ";case"S":return"this.getSuffix() + ";case"w":return"this.getDay() + ";case"z":return"this.getDayOfYear() + ";case"W":return"this.getWeekOfYear() + ";case"F":return"Date.monthNames[this.getMonth()] + ";case"m":return"String.leftPad(this.getMonth() + 1, 2, '0') + ";case"M":return"Date.monthNames[this.getMonth()].substring(0, 3) + ";case"n":return"(this.getMonth() + 1) + ";case"t":return"this.getDaysInMonth() + ";case"L":return"(this.isLeapYear() ? 1 : 0) + ";case"Y":return"this.getFullYear() + ";case"y":return"('' + this.getFullYear()).substring(2, 4) + ";case"a":return"(this.getHours() < 12 ? 'am' : 'pm') + ";case"A":return"(this.getHours() < 12 ? 'AM' : 'PM') + ";case"g":return"((this.getHours() %12) ? this.getHours() % 12 : 12) + ";case"G":return"this.getHours() + ";case"h":return"String.leftPad((this.getHours() %12) ? this.getHours() % 12 : 12, 2, '0') + ";case"H":return"String.leftPad(this.getHours(), 2, '0') + ";case"i":return"String.leftPad(this.getMinutes(), 2, '0') + ";case"s":return"String.leftPad(this.getSeconds(), 2, '0') + ";case"O":return"this.getGMTOffset() + ";case"T":return"this.getTimezone() + ";case"Z":return"(this.getTimezoneOffset() * -60) + ";default:return"'"+String.escape(e)+"' + "}},Date.parseDate=function(e,t){if("unixtime"==t)return new Date(isNaN(parseInt(e))?0:1e3*parseInt(e));null==Date.parseFunctions[t]&&Date.createParser(t);var n=Date.parseFunctions[t];return Date[n](e)},Date.createParser=function(format){var funcName="parse"+Date.parseFunctions.count++,regexNum=Date.parseRegexes.length,currentGroup=1;Date.parseFunctions[format]=funcName;for(var code="Date."+funcName+" = function(input) {\nvar y = -1, m = -1, d = -1, h = -1, i = -1, s = -1, z = -1;\nvar d = new Date();\ny = d.getFullYear();\nm = d.getMonth();\nd = d.getDate();\nvar results = input.match(Date.parseRegexes["+regexNum+"]);\nif (results && results.length > 0) {",regex="",special=!1,ch="",i=0;i<format.length;++i)ch=format.charAt(i),special||"\\"!=ch?special?(special=!1,regex+=String.escape(ch)):(obj=Date.formatCodeToRegex(ch,currentGroup),currentGroup+=obj.g,regex+=obj.s,obj.g&&obj.c&&(code+=obj.c)):special=!0;code+="if (y > 0 && z > 0){\nvar doyDate = new Date(y,0);\ndoyDate.setDate(z);\nm = doyDate.getMonth();\nd = doyDate.getDate();\n}",code+="if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0 && s >= 0)\n{return new Date(y, m, d, h, i, s);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0 && i >= 0)\n{return new Date(y, m, d, h, i);}\nelse if (y > 0 && m >= 0 && d > 0 && h >= 0)\n{return new Date(y, m, d, h);}\nelse if (y > 0 && m >= 0 && d > 0)\n{return new Date(y, m, d);}\nelse if (y > 0 && m >= 0)\n{return new Date(y, m);}\nelse if (y > 0)\n{return new Date(y);}\n}return null;}",Date.parseRegexes[regexNum]=new RegExp("^"+regex+"$","i"),eval(code)},Date.formatCodeToRegex=function(e,t){switch(e){case"D":return{g:0,c:null,s:"(?:Sun|Mon|Tue|Wed|Thu|Fri|Sat)"};case"j":case"d":return{g:1,c:"d = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"l":return{g:0,c:null,s:"(?:"+Date.dayNames.join("|")+")"};case"S":return{g:0,c:null,s:"(?:st|nd|rd|th)"};case"w":return{g:0,c:null,s:"\\d"};case"z":return{g:1,c:"z = parseInt(results["+t+"], 10);\n",s:"(\\d{1,3})"};case"W":return{g:0,c:null,s:"(?:\\d{2})"};case"F":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"].substring(0, 3)], 10);\n",s:"("+Date.monthNames.join("|")+")"};case"M":return{g:1,c:"m = parseInt(Date.monthNumbers[results["+t+"]], 10);\n",s:"(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)"};case"n":case"m":return{g:1,c:"m = parseInt(results["+t+"], 10) - 1;\n",s:"(\\d{1,2})"};case"t":return{g:0,c:null,s:"\\d{1,2}"};case"L":return{g:0,c:null,s:"(?:1|0)"};case"Y":return{g:1,c:"y = parseInt(results["+t+"], 10);\n",s:"(\\d{4})"};case"y":return{g:1,c:"var ty = parseInt(results["+t+"], 10);\ny = ty > Date.y2kYear ? 1900 + ty : 2000 + ty;\n",s:"(\\d{1,2})"};case"a":return{g:1,c:"if (results["+t+"] == 'am') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(am|pm)"};case"A":return{g:1,c:"if (results["+t+"] == 'AM') {\nif (h == 12) { h = 0; }\n} else { if (h < 12) { h += 12; }}",s:"(AM|PM)"};case"g":case"G":case"h":case"H":return{g:1,c:"h = parseInt(results["+t+"], 10);\n",s:"(\\d{1,2})"};case"i":return{g:1,c:"i = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"s":return{g:1,c:"s = parseInt(results["+t+"], 10);\n",s:"(\\d{2})"};case"O":return{g:0,c:null,s:"[+-]\\d{4}"};case"T":return{g:0,c:null,s:"[A-Z]{3}"};case"Z":return{g:0,c:null,s:"[+-]\\d{1,5}"};default:return{g:0,c:null,s:String.escape(e)}}},Date.prototype.getTimezone=function(){return this.toString().replace(/^.*? ([A-Z]{3}) [0-9]{4}.*$/,"$1").replace(/^.*?\(([A-Z])[a-z]+ ([A-Z])[a-z]+ ([A-Z])[a-z]+\)$/,"$1$2$3")},Date.prototype.getGMTOffset=function(){return(this.getTimezoneOffset()>0?"-":"+")+String.leftPad(Math.floor(Math.abs(this.getTimezoneOffset())/60),2,"0")+String.leftPad(Math.abs(this.getTimezoneOffset())%60,2,"0")},Date.prototype.getDayOfYear=function(){var e=0;Date.daysInMonth[1]=this.isLeapYear()?29:28;for(var t=0;t<this.getMonth();++t)e+=Date.daysInMonth[t];return e+this.getDate()},Date.prototype.getWeekOfYear=function(){var e=this.getDayOfYear()+(4-this.getDay()),t=new Date(this.getFullYear(),0,1),n=7-t.getDay()+4;return String.leftPad(Math.ceil((e-n)/7)+1,2,"0")},Date.prototype.isLeapYear=function(){var e=this.getFullYear();return 0==(3&e)&&(e%100||e%400==0&&e)},Date.prototype.getFirstDayOfMonth=function(){var e=(this.getDay()-(this.getDate()-1))%7;return 0>e?e+7:e},Date.prototype.getLastDayOfMonth=function(){var e=(this.getDay()+(Date.daysInMonth[this.getMonth()]-this.getDate()))%7;return 0>e?e+7:e},Date.prototype.getDaysInMonth=function(){return Date.daysInMonth[1]=this.isLeapYear()?29:28,Date.daysInMonth[this.getMonth()]},Date.prototype.getSuffix=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}},String.escape=function(e){return e.replace(/('|\\)/g,"\\$1")},String.leftPad=function(e,t,n){var a=new String(e);for(null==n&&(n=" ");a.length<t;)a=n+a;return a},Date.daysInMonth=[31,28,31,30,31,30,31,31,30,31,30,31],Date.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.y2kYear=50,Date.monthNumbers={Jan:0,Feb:1,Mar:2,Apr:3,May:4,Jun:5,Jul:6,Aug:7,Sep:8,Oct:9,Nov:10,Dec:11},Date.patterns={ISO8601LongPattern:"Y-m-d H:i:s",ISO8601ShortPattern:"Y-m-d",ShortDatePattern:"n/j/Y",LongDatePattern:"l, F d, Y",FullDateTimePattern:"l, F d, Y g:i:s A",MonthDayPattern:"F d",ShortTimePattern:"g:i A",LongTimePattern:"g:i:s A",SortableDateTimePattern:"Y-m-d\\TH:i:s",UniversalSortableDateTimePattern:"Y-m-d H:i:sO",YearMonthPattern:"F, Y"}}(),function(e){var t=new Array,n=new Array;e.fn.doAutosize=function(t){var n=e(this).data("minwidth"),a=e(this).data("maxwidth"),i="",r=e(this),o=e("#"+e(this).data("tester_id"));if(i!==(i=r.val())){var s=i.replace(/&/g,"&amp;").replace(/\s/g," ").replace(/</g,"&lt;").replace(/>/g,"&gt;");o.html(s);var d=o.width(),l=d+t.comfortZone>=n?d+t.comfortZone:n,u=r.width(),c=u>l&&l>=n||l>n&&a>l;c&&r.width(l)}},e.fn.resetAutosize=function(t){var n=e(this).data("minwidth")||t.minInputWidth||e(this).width(),a=e(this).data("maxwidth")||t.maxInputWidth||e(this).closest(".tagsinput").width()-t.inputPadding,i=e(this),r=e("<tester/>").css({position:"absolute",top:-9999,left:-9999,width:"auto",fontSize:i.css("fontSize"),fontFamily:i.css("fontFamily"),fontWeight:i.css("fontWeight"),letterSpacing:i.css("letterSpacing"),whiteSpace:"nowrap"}),o=e(this).attr("id")+"_autosize_tester";!e("#"+o).length>0&&(r.attr("id",o),r.appendTo("body")),i.data("minwidth",n),i.data("maxwidth",a),i.data("tester_id",o),i.css("width",n)},e.fn.addTag=function(a,i){return i=jQuery.extend({focus:!1,callback:!0},i),this.each(function(){var r=e(this).attr("id"),o=e(this).val().split(t[r]);if(""==o[0]&&(o=new Array),a=jQuery.trim(a),i.unique){var s=e(this).tagExist(a);1==s&&e("#"+r+"_tag").addClass("not_valid")}else var s=!1;if(""!=a&&1!=s){if(e("<span>").addClass("tag").append(e("<span>").text(a).append("&nbsp;&nbsp;"),e("<a>",{href:"#",title:"Removing tag",text:"x"}).click(function(){return e("#"+r).removeTag(escape(a))})).insertBefore("#"+r+"_addTag"),o.push(a),e("#"+r+"_tag").val(""),i.focus?e("#"+r+"_tag").focus():e("#"+r+"_tag").blur(),e.fn.tagsInput.updateTagsField(this,o),i.callback&&n[r]&&n[r].onAddTag){var d=n[r].onAddTag;d.call(this,a)}if(n[r]&&n[r].onChange){var l=o.length,d=n[r].onChange;d.call(this,e(this),o[l-1])}}}),!1},e.fn.removeTag=function(a){return a=unescape(a),this.each(function(){var r=e(this).attr("id"),o=e(this).val().split(t[r]);for(e("#"+r+"_tagsinput .tag").remove(),str="",i=0;i<o.length;i++)o[i]!=a&&(str=str+t[r]+o[i]);if(e.fn.tagsInput.importTags(this,str),n[r]&&n[r].onRemoveTag){var s=n[r].onRemoveTag;s.call(this,a)}}),!1},e.fn.tagExist=function(n){var a=e(this).attr("id"),i=e(this).val().split(t[a]);return jQuery.inArray(n,i)>=0},e.fn.importTags=function(t){var n=e(this).attr("id");e("#"+n+"_tagsinput .tag").remove(),e.fn.tagsInput.importTags(this,t)},e.fn.tagsInput=function(i){var r=jQuery.extend({interactive:!0,defaultText:"add a tag",minChars:0,width:"300px",height:"100px",autocomplete:{selectFirst:!1},hide:!0,delimiter:",",unique:!0,removeWithBackspace:!0,placeholderColor:"#666666",autosize:!0,comfortZone:20,inputPadding:12},i),o=0;return this.each(function(){if("undefined"==typeof e(this).attr("data-tagsinput-init")){e(this).attr("data-tagsinput-init",!0),r.hide&&e(this).hide();var i=e(this).attr("id");(!i||t[e(this).attr("id")])&&(i=e(this).attr("id","tags"+(new Date).getTime()+o++).attr("id"));var s=jQuery.extend({pid:i,real_input:"#"+i,holder:"#"+i+"_tagsinput",input_wrapper:"#"+i+"_addTag",fake_input:"#"+i+"_tag"},r);t[i]=s.delimiter,(r.onAddTag||r.onRemoveTag||r.onChange)&&(n[i]=new Array,n[i].onAddTag=r.onAddTag,n[i].onRemoveTag=r.onRemoveTag,n[i].onChange=r.onChange);var d='<div id="'+i+'_tagsinput" class="tagsinput"><div id="'+i+'_addTag">';if(r.interactive&&(d=d+'<input id="'+i+'_tag" value="" data-default="'+r.defaultText+'" />'),d+='</div><div class="tags_clear"></div></div>',e(d).insertAfter(this),e(s.holder).css("width",r.width),e(s.holder).css("min-height",r.height),e(s.holder).css("height",r.height),""!=e(s.real_input).val()&&e.fn.tagsInput.importTags(e(s.real_input),e(s.real_input).val()),r.interactive){if(e(s.fake_input).val(e(s.fake_input).attr("data-default")),e(s.fake_input).css("color",r.placeholderColor),e(s.fake_input).resetAutosize(r),e(s.holder).bind("click",s,function(t){e(t.data.fake_input).focus()}),e(s.fake_input).bind("focus",s,function(t){e(t.data.fake_input).val()==e(t.data.fake_input).attr("data-default")&&e(t.data.fake_input).val(""),e(t.data.fake_input).css("color","#000000")}),void 0!=r.autocomplete_url){autocomplete_options={source:r.autocomplete_url};for(attrname in r.autocomplete)autocomplete_options[attrname]=r.autocomplete[attrname];void 0!==jQuery.Autocompleter?(e(s.fake_input).autocomplete(r.autocomplete_url,r.autocomplete),e(s.fake_input).bind("result",s,function(t,n,a){n&&e("#"+i).addTag(n[0]+"",{focus:!0,unique:r.unique})})):void 0!==jQuery.ui.autocomplete&&(e(s.fake_input).autocomplete(autocomplete_options),e(s.fake_input).bind("autocompleteselect",s,function(t,n){return e(t.data.real_input).addTag(n.item.value,{focus:!0,unique:r.unique}),!1}))}else e(s.fake_input).bind("blur",s,function(t){var n=e(this).attr("data-default");return""!=e(t.data.fake_input).val()&&e(t.data.fake_input).val()!=n?t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}):(e(t.data.fake_input).val(e(t.data.fake_input).attr("data-default")),e(t.data.fake_input).css("color",r.placeholderColor)),!1});e(s.fake_input).bind("keypress",s,function(t){return a(t)?(t.preventDefault(),t.data.minChars<=e(t.data.fake_input).val().length&&(!t.data.maxChars||t.data.maxChars>=e(t.data.fake_input).val().length)&&e(t.data.real_input).addTag(e(t.data.fake_input).val(),{focus:!0,unique:r.unique}),e(t.data.fake_input).resetAutosize(r),!1):void(t.data.autosize&&e(t.data.fake_input).doAutosize(r))}),s.removeWithBackspace&&e(s.fake_input).bind("keydown",function(t){if(8==t.keyCode&&""==e(this).val()){t.preventDefault();var n=e(this).closest(".tagsinput").find(".tag:last").text(),a=e(this).attr("id").replace(/_tag$/,"");n=n.replace(/[\s]+x$/,""),e("#"+a).removeTag(escape(n)),e(this).trigger("focus")}}),e(s.fake_input).blur(),s.unique&&e(s.fake_input).keydown(function(t){(8==t.keyCode||String.fromCharCode(t.which).match(/\w+|[áéíóúÁÉÍÓÚñÑ,/]+/))&&e(this).removeClass("not_valid")})}}}),this},e.fn.tagsInput.updateTagsField=function(n,a){var i=e(n).attr("id");e(n).val(a.join(t[i]))},e.fn.tagsInput.importTags=function(a,r){e(a).val("");var o=e(a).attr("id"),s=r.split(t[o]);for(i=0;i<s.length;i++)e(a).addTag(s[i],{focus:!1,callback:!1});if(n[o]&&n[o].onChange){var d=n[o].onChange;d.call(a,a,s[i])}};var a=function(t){var n=!1;return 13==t.which?!0:("string"==typeof t.data.delimiter?t.which==t.data.delimiter.charCodeAt(0)&&(n=!0):e.each(t.data.delimiter,function(e,a){t.which==a.charCodeAt(0)&&(n=!0)}),n)}}(jQuery);var misc={setTitle:function(e){$("title:first").text(WEBTITLE+e),clearTimeout(window.stTitleFlash),clearInterval(window.noticeFlag),setTimeout(misc.titleFlash,16)},titleFlash:function(){var e=$("title:first"),t=e.text(),n=0,a=0,i=function(){/my\.php\?mod\=notify/.test(location.href)||!notify_sum_num&&!private_pm_count||(window.noticeFlag=setInterval(function(){e.text((n?"【　　　】":"【新提醒】")+t),n=n?0:1,a++,a>6&&(n=a=0,clearInterval(window.noticeFlag),window.stTitleFlash=setTimeout(i,3e3))},500))};i()},clearTitleFlash:function(){if(!notify_sum_num&&!private_pm_count){clearInterval(window.noticeFlag);var e=$("title:first");e.text(e.text().replace(/【.*】/,""))}},isUndefined:function(e){return"undefined"==typeof e?!0:!1},empty:function(e){return""==e.val()&&!e.val().length},htmlspecialchars:function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/\</g,"&lt;"),e=e.replace(/\>/g,"&gt;"),e=e.replace(/\'/g,"&#039;"),e=e.replace(/\"/g,"&quot;")},unhtmlspecialchars:function(e){return e=e.replace(/\&amp\;/g,"&"),e=e.replace(/\&lt\;/g,"<"),e=e.replace(/\&gt\;/g,">"),e=e.replace(/\&#039\;/g,"'"),e=e.replace(/\&quot\;/g,'"')},getStrLength:function(e,t,n){t||(t=1),n||(n=.5);var a=0,i=0,r=0;return 1==t&&.5==n?(a=Math.abs(e.replace(/[\x00-\xff]*/g,"").length),i=Math.abs(Math.ceil(e.replace(/[^\x00-\xff]*/g,"").length/2)),r=a+i+""):r=2==t&&1==n?Math.abs(e.replace(/[^\x00-\xff]/g,"**").length):3==t&&1==n?Math.abs(e.replace(/[^\x00-\xff]/g,"***").length):e.length,r},urlencode:function(e){return encodeURIComponent(e)},urldecode:function(e){return decodeURIComponent(e)},betweenLength:function(e,t,n,a){var i="string"==typeof e?e:e.val(),r=a?misc.getStrLength(i,2,1):misc.getStrLength(i,1,1);return r>=t&&n>=r},betweenEquis:function(e,t){var n="string"==typeof e?e:e.val(),a="string"==typeof t?t:t.val();return n===a},bedFormat:function(e,t){var n="string"==typeof e?e:e.val();return!t.test(n)},isNumber:function(e){return!isNaN(e)},maxWidth:function(){return Math.max(document.documentElement.clientWidth,document.body.offsetWidth)},maxHeight:function(){return Math.max(document.documentElement.clientHeight,document.body.offsetHeight)},maxViewWidth:function(){return $(window).width()},maxViewHeight:function(){return $(window).height()},random:function(e,t){return parseInt(Math.random()*(t-e+1)+e)},timestamp:function(){return Date.parse(new Date)/1e3},timestamp_ms:function(){return Date.parse(new Date)},convertSize:function(e){if(!e)return"0 Bytes";var t=["b","kb","mb","gb","tb","pb","eb","zb","yb"],n=Math.floor(Math.log(e)/Math.log(1024)),a=n>1?2:0;return(e/Math.pow(1024,Math.floor(n))).toFixed(a)+t[n]},getVideoSwf:function(e,t){try{var n=null;if(!e)return!1;n=e.match(/http:\/\/(.*?)?\.(.*?)?\.com\/(.*)/);var a=n[2],i=n[1],r=".swf".indexOf(n[3])>0,o=n[3].substr(0,1),s="";switch(a){case"youku":if("player"==i)s=e;else if("v"==i){var d=e.match(/http:\/\/v\.youku\.com\/v_show\/id_(.*)?\.html/);s="http://static.youku.com/v/swf/qplayer.swf?VideoIDS="+d[1].replace("/","")+(t?"&isAutoPlay=true":"")}else s=e;break;case"tudou":if(r)s=e;else{o="p"==o?"v":o;var d=e.match(/http:\/\/www.tudou\.com\/(.*)?\/(.*)?/);str_arr=d[1].split("/");var l=str_arr.length,u="";1==l?u=d[2].split(".")[0]:2==l?u=str_arr[1]:3==$count&&(u=str_arr[2]),s="http://www.tudou.com/"+o+"/"+u+(t?"&autoPlay=true":"")+"/v.swf"}break;case"qq":if(r)s=e;else{var d=e.match(/vid\=(\w*)/);s="http://static.video.qq.com/TPout.swf?vid="+d[1]+(t?"&auto=1":"")}break;case"letv":if(r)s=e;else{var d=e.match(/(\d*)\.html/);s="http://www.letv.com/player/swfPlayer.swf?id="+d[1]+(t?"&autoplay=1":"&autoplay=0")}break;case"ku6":if(r)s=e;else{var d=e.match(/show\/(.*)\.{1}/);s="http://player.ku6.com/refer/"+d[1]+"/v.swf"+(t?"&auto=1":"")}break;case"yinyuetai":if(r)s=e;else{var d=e.match(/video\/(\d*)/);s="http://player.yinyuetai.com/video/player/"+d[1]+"/"+(t?"a":"v")+"_0.swf"}break;case"ifeng":if(r)s=e;else{var d=e.match(/([\w-]*)(\.shtml|)$/);s="http://v.ifeng.com/include/exterior.swf?guid="+d[1]+(t?"&AutoPlay=true":"")}break;default:s=""}}catch(c){s=e}return s},fromRequest:function(e,t,n,a,i){var r=$("<form></form>");r.attr({"class":"hidden",action:e,method:(n?n:"get").toUpperCase(),target:a?a:"_blank"}),i?($("html").data("init")(),r.append('<input name="formhash" value="'+formHash+'"/>'),i="_"+formHash):i="";var o="",s="";for(var d in t)"object"==typeof t[d]?(o=t[d].nohash?d:d+i,s=t[d].val):(o=d+i,s=t[d]),r.append('<input name="'+o+'" value="'+s+'"/>');$("body").append(r),r.submit()},support_css3:function(e){var t,n=["webkit","Moz","ms","o"],a=[],i=document.documentElement.style,r=function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})};for(t in n)a.push(r(n[t]+"-"+e));a.push(r(e));for(t in a)if(a[t]in i)return!0;return!1},induction_position:function(e,t){var n=e.width(),a=e.height(),i=0,r={},o=(t.pageX-e.offset().left-n/2)*(n>a?a/n:1),s=(t.pageY-e.offset().top-a/2)*(a>n?n/a:1);switch(i=Math.round((Math.atan2(s,o)*(180/Math.PI)+180)/90+3)%4){case 0:r.left=0,r.top="-100%";break;case 1:r.left="100%",r.top=0;break;case 2:r.left=0,r.top="100%";break;case 3:r.left="-100%",r.top=0}return r},support_flash:function(e){ISMOBILE||showDialog("danger","重要提示",e?"无法加载Flash，可能没有正确安装 Adobe Flash Player，是否去官网下载并安装？":"此页面需要Flash的支持，您的系统或浏览器没有安装 Adobe Flash Player 插件，是否去官网下载并安装？",{key:"support_flash",modal:!0},"立即安装",function(){window.open("http://www.adobe.com/go/getflash"),showDialog("info","重要提示","如果FlashPlayer已安装完毕，请点击下方刷新按钮即可，若是刷新后无效，一般重启浏览器即可。",{modal:!0},"刷新",function(){location.reload(!0)})},"暂不安装")},launchFullscreen:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():window.open(e.src)},placeholder:function(e){!(e instanceof jQuery)&&(e=$(e)),BROWSER.ie<=9&&$(function(){try{e.placeholder()}catch(t){}})},win_popup:function(e,t,n,a,i){var r=0,o=0;n>0&&a>0&&(r=(screen.width-n)/2,o=(screen.height-a)/2,i&&(i+=", left="+r+", top="+o+", width="+n+", height="+a+"toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, status=no",i=i.replace(/^,/,"")));var s=window.open(e,t,i);return s.focus(),s},win_close:function(){try{BROWSER.ie&&(window.opener=null),window.open("","_self",""),window.close()}catch(e){try{window.opener=null,window.open("","_self"),window.close()}catch(e){window.close()}}}};+function(e){e(function(){})}(jQuery),function(){function e(e,a){this.$target=$(e).siblings(".wd-target"),this.$element=$(e),n.push(this.$element),this.options=$.extend({},t,a),this.isFixed=this.options.isFixed,this.init();var i=this;$(window).resize(function(){i.setPosition()})}var t={trigger:"click",isFixed:!1},n=[];e.prototype={init:function(){this.setPosition(),this.initTargetEvents(),this._targetclick=!1,"click"===this.getTrigger()?this.$element.off("click.plugin_popover").on("click.plugin_popover",$.proxy(this.elementClickHandler,this)):"hover"===this.getTrigger()&&this.$element.off("mouseenter.plugin_popover mouseleave.plugin_popover").on("mouseenter.plugin_popover",$.proxy(this.mouseenterHandler,this)).on("mouseleave.plugin_popover",$.proxy(this.mouseleaveHandler,this))},destroy:function(){for(var e=-1,t=0;t<n.length;t++)if(n[t]===this.$element){e=t;break}n.splice(e,1),this.$target.hide(),this.$element.data("plugin_popover",null),"click"===this.getTrigger()?this.$element.off("click.plugin_popover"):"hover"===this.getTrigger()&&this.$element.off("mouseenter.plugin_popover mouseleave.plugin_popover")},hideAll:function(){for(var e=0;e<n.length;e++)n[e].wdPopover("hide")},setPosition:function(){this.$target.find(".wd-popover-arrow").attr("style",""),"static"==this.$element.parent().css("position")&&this.$element.parent().css("position","relative");var e=this.$target.outerWidth(!0);if(this.$target.hasClass("wd-dropdown-menu")){var t=parseInt(this.$target.css("padding-left"))+parseInt(this.$target.css("padding-right"))+parseInt(this.$target.css("border-left-width"))+parseInt(this.$target.css("border-right-width"));this.$target.css("min-width",this.$element.outerWidth()-t),e=this.$target.outerWidth(!0)}var n,a,i=this.$target.outerHeight(!0),r=this.$element.outerWidth(!0),o=this.$element.outerHeight(!0);this.isFixed?(this.$target.css("position","fixed"),n=this.$element.offset().top,a=this.$element.offset().left):(n=this.$element.position().top,a=this.$element.position().left);var s=o+n,d=a-(e-r)/2;this.$target.hasClass("wd-dropdown-menu")&&(d=a),this.$target.hasClass("wdm-popover-bottom")&&(this.$element.offset().left<(e-r)/2&&(d=a,this.$target.find(".wd-popover-arrow").css("left",r/2)),$(document).width()-this.$element.offset().left<(e+r)/2&&(d=a-(e-r),this.$target.find(".wd-popover-arrow").css("left",e-r/2))),this.$target.hasClass("wdm-popover-top")&&(s=n-i,this.$element.offset().left<(e-r)/2&&(d=a,this.$target.find(".wd-popover-arrow").css("left",r/2)),$(document).width()-this.$element.offset().left<(e+r)/2&&(d=a-(e-r),this.$target.find(".wd-popover-arrow").css("left",e-r/2))),this.$target.hasClass("wdm-popover-left")&&(d=a-e,s=n-(i-o)/2,this.$element.offset().top<(i-o)/2&&(s=n,this.$target.find(".wd-popover-arrow").css("top",o/2)),$(document).height()-this.$element.offset().top<(i+o)/2&&(s=n-(i-o),this.$target.find(".wd-popover-arrow").css("top",i-o/2))),this.$target.hasClass("wdm-popover-right")&&(d=a+r,s=n-(i-o)/2,this.$element.offset().top<(i-o)/2&&(s=n,this.$target.find(".wd-popover-arrow").css("top",o/2)),$(document).height()-this.$element.offset().top<(i+o)/2&&(s=n-(i-o),this.$target.find(".wd-popover-arrow").css("top",i-o/2))),this.$target.css({top:s,left:d})},elementClickHandler:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.getTarget().is(":visible")?this.hide():this.show()},hide:function(e){e&&(e.preventDefault(),e.stopPropagation()),this.$element.removeClass("wd-open"),this.$target.hide()},show:function(){var e=this.getTarget();this.hideAll(),e.show(),this.$element.addClass("wd-open"),$(document).off("click.plugin_popover").on("click.plugin_popover",$.proxy(this.bodyClickHandler,this))},initTargetEvents:function(){"hover"===this.getTrigger()&&this.$target.off("mouseenter mouseleave").on("mouseenter",$.proxy(this.mouseenterHandler,this)).on("mouseleave",$.proxy(this.mouseleaveHandler,this)),this.$target.off("click.plugin_popover").on("click.plugin_popover",$.proxy(this.targetClickHandler,this))},bodyClickHandler:function(){"click"===this.getTrigger()&&(this._targetclick?this._targetclick=!1:this.hideAll())},targetClickHandler:function(){this.$target.hasClass("wd-dropdown-menu")?this._targetclick=!1:this._targetclick=!0},mouseenterHandler:function(){var e=this;e._timeout&&clearTimeout(e._timeout),e._enterTimeout=setTimeout(function(){e.getTarget().is(":visible")||e.show()},100)},mouseleaveHandler:function(){var e=this;clearTimeout(e._enterTimeout),e._timeout=setTimeout(function(){
e.hide()},100)},getTrigger:function(){return this.$element.attr("data-trigger")||this.options.trigger},getTarget:function(){return this.$target}},$.fn.wdPopover=function(t){return $(this).each(function(){var n=$.data(this,"plugin_popover");n?"destroy"===t?n.destroy():"string"==typeof t&&n[t]():(n=new e(this,t),$.data(this,"plugin_popover",n))})}}(jQuery),function(e){var t={title:"提示",minWidth:335,width:335,buttons:null},n=function(n,a){this.$element=e(n),this.opts=e.extend({},t,a),this.init()};n.prototype={init:function(){var t=this,n=e("<div class='wdm-dlg'><table class='wd-dlgtable'><tr><td class='wd-dlgtd'><div class='wd-dlgwrap'></div></td></tr></table></div>"),a=e("<div class='wd-dlghead'><span class='wd-dlg-title'>"+this.opts.title+"</span><b class='icon-close-dlg'></b></div>"),i=e("<div class='wd-dlgfoot'></div>"),r=e("<div />").addClass("wd-dlgbody").append(this.$element.show()),o=this.opts.buttons;null!=o&&e.each(o,function(n,a){var a=e.isFunction(a)?{click:a,text:n}:a,r=a.click;a.click=function(){r.apply(t.$element[0],arguments)},e("<button></button>",a).addClass("wdu-btn wdu-btn-dlg").appendTo(i)}),n.find(".wd-dlgwrap").css({width:this.opts.width,"min-width":this.opts.minWidth}).append(a).append(r).append(i),e("body").append(n),n.find(".icon-close-dlg").on("click",function(e){e.preventDefault(),t.close()})},close:function(){var t=this.$element.parents(".wdm-dlg");this.$element.hide().appendTo("body"),t.remove(),e("body").removeClass("f-oh")},destroy:function(){this.$element.data("plugin_dialog",null)}},e.fn.extend({wdDialog:function(t){return e(this).each(function(){e("body").addClass("f-oh");var a=e.data(this,"plugin_dialog");a?"destroy"===t?a.destroy():"string"==typeof t?a[t]():a.init():(a=new n(this,t),e.data(this,"plugin_dialog",a))})}})}(jQuery),function(e){var t;e.fn.extend({startScroll:function(n){return this.each(function(){function a(){f=p.find("ul li").addClass("f-fl wdu-mgr20").size(),c=p.find("ul li").eq(0).outerWidth(!0),h=c*f,p.addClass("wdm-scroll").find("ul").addClass("wd-scroll-ul").css({left:-v*c}),e(g.preBtn).addClass("wdu-pre-scroll"),e(g.nextBtn).addClass("wdu-next-scroll"),0==f?p.addClass("f-dn"):p.removeClass("f-dn"),f<=g.perNum?(e(g.nextBtn).hide(),e(g.preBtn).hide()):e(g.nextBtn).show(),!g.isContinue&&w&&0==v&&(e(g.preBtn).hide(),w=!1);var t=h+p.find("ul").position().left<=p.width()+20;!g.isContinue&&(f<=g.perNum||t)&&e(g.nextBtn).hide(),g.auto&&(u=setInterval(i,g.space))}function i(e){"pre"==e?v--:v++,v>f-g.perNum&&(v=0),0>v&&(v=f-g.perNum),p.find("ul").stop().animate({left:-v*c},g.speed)}function r(){clearInterval(u)}function o(){g.auto&&(u=setInterval(i,g.space))}function s(){return r(),i("pre"),e(g.nextBtn).fadeIn(),g.isContinue||0!=v?void o():void e(g.preBtn).fadeOut()}function d(){return r(),i(),e(g.preBtn).fadeIn(),v!=f-g.perNum||g.isContinue?void o():void e(g.nextBtn).fadeOut()}function l(){t=e(this).closest("li").index(),e(this).closest("li").remove(),a(),r(),h+p.find("ul").position().left<p.find("ul").parent().width()&&f>=g.perNum&&i("pre"),0==p.find("li").size()&&p.addClass("f-dn")}var u,c,f,h,m={speed:500,space:5e3,auto:!1,trigger:"click",current:"cur",preBtn:"#pre",nextBtn:"#next",layer:!1,isContinue:!1,perNum:3,index:0},p=e(this),g=e.extend({},m,n),v=g.index,w=!0;return g.layer&&p.on("click.layer","li img",function(){e("body").addClass("f-oh");var t=(e(this).closest(".wd-scroll-ul"),e(this).closest("li").index()),n=e("<div class='wdm-dlg wdm-dlg-layer'><table class='wd-dlgtable'><tr><td class='wd-dlgtd'></td></tr></table></div>"),a=p.find("ul").html(),i=e("<ul class='f-cb'></ul>").append(a),r=e("<div></div>",{id:"dlgScroll"}).css({width:c+140,margin:"0 auto"});i.find("li").each(function(){e(this).css("width",c+140);var t=e(this).find("img").attr("src"),n={click:function(){window.open(t)},"class":"wdu-btn-reverse-gray wdu-btn-md",text:"下载截图"},a=e("<div class='wdu-mgt20'></div>").append(e("<button></button>",n));e(this).append(a)}),r.append(i).append("<div id='layerPreBtn'></div><div id='layerNextBtn'></div>"),n.find(".wd-dlgtd").append(r),e("body").append(n),e("#dlgScroll").startScroll({preBtn:"#layerPreBtn",nextBtn:"#layerNextBtn",perNum:1,index:t}),n.find("li img").off("click.layer"),e(".wdm-dlg-layer").on("click",function(t){var t=t||window.event,n=t.target||t.srcElement;return"layerNextBtn"==n.id||"layerPreBtn"==n.id||-1!=n.className.indexOf("wdu-btn-reverse-gray")?!1:(e(this).remove(),void e("body").removeClass("f-oh"))})}),p.on(g.trigger,g.nextBtn,d),p.on(g.trigger,g.preBtn,s),p.on("click","li .icon-close2",l),e.fn.startScroll.destroy=function(){p.find("ul").stop().animate({left:0},g.speed),p.off(g.trigger,g.nextBtn,d),p.off(g.trigger,g.preBtn,s),p.off("click","li .icon-close2",l),g.layer&&p.off("click.layer","li img")},a()})}})}(jQuery),function(e){e.fn.extend({scrollFixed:function(){function t(){e(window).scrollTop()>=a?n.addClass("wdu-fixed-top"):n.removeClass("wdu-fixed-top")}var n=this,a=n.offset().top;e(window).scroll(function(e){t()})},backTop:function(){var t=this;e(t).hide(),e(t).click(function(t){e("body,html").animate({scrollTop:0},500)}),e(window).scroll(function(n){e(window).scrollTop()>=100?e(t).fadeIn():e(t).fadeOut()})}})}(jQuery),function(e){var t=e('<div class="wdm-select-container"><span class="selected"></span></div>'),n=e('<ul class="wdm-select" style="display:none;"></ul>');e.fn.wdSelect=function(a){var i=e(this);i.hide(),i.each(function(a,i){var r=t.clone().addClass(e(i).attr("class")),o=n.clone(),s=e(i),d=s.find("option"),l=s.find("option:selected").addClass("z-crt").text()||e(d[0]).addClass("z-crt").text();s.after(r),s.appendTo(r),o.appendTo(r),d.each(function(t,n){var a=e(n),i=e("<li></li>"),r=a.prop("attributes");i.prop("attributes",r),e.each(r,function(e,t){i.attr(t.name,t.value)}),i.append(a.text()),o.append(i)}),r.find(".selected").text(l),r.on("click.wdm.select",function(){var t=e(this),n=e.grep(e(".wdm-select-container"),function(n){return!t.is(e(n))});e(n).removeClass("wd-open").find("ul").hide(),e(document).height()-t.offset().top<t.find("ul").outerHeight(!0)+45?t.find("ul").addClass("wd-select-top"):t.find("ul").removeClass("wd-select-top"),t.find("ul").toggle(),t.toggleClass("wd-open")}),r.on("click.wdm.option","li",function(t){t.stopPropagation();var n=e(this),a=n.parents(".wdm-select-container"),i=a.find("span.selected");if(n.attr("disabled"))return!1;n.addClass("z-crt").siblings("li").removeClass("z-crt"),i.text(n.text()),n.parents("ul").toggle(),n.parents(".wdm-select-container").toggleClass("wd-open");var r=a.find("select");r.val(n.attr("value")).change()}),s.on("DOMNodeInserted",function(t){var n=e(t.target);if(n.is("option")){var a=e("<li></li>"),i=n.prop("attributes");a.prop("attributes",i),e.each(i,function(e,t){a.attr(t.name,t.value)}),a.append(n.text()),o.append(a)}}),s.on("DOMNodeRemoved",function(t){var n=e(t.target);n.is("option")&&o.find("li:contains('"+n.text()+"')").remove()}),e("body").click(function(t){e(t.target).closest(".wdm-select-container").length||e(".wdm-select-container").removeClass("wd-open").find("ul").hide()})})}}(jQuery),$(function(){$(".wd-dropdown-trigger").wdPopover(),$(".wdm-tab").find("li").each(function(e,t){try{$(this).hasClass("z-crt")?$($(this).children("a").attr("href")).show():$($(this).children("a").attr("href")).hide()}catch(n){return}}),$(".wdm-tab").on("click","li",function(e){if(!$(this).hasClass("z-dis")){var t=$(this).closest(".wdm-tab").find("li.z-crt").children("a").attr("href"),n=$(this).children("a").attr("href");$(this).addClass("z-crt").siblings("li").removeClass("z-crt");try{$(t).hide(),$(n).show(),e.preventDefault()}catch(a){return}}})});var rules={required:function(e){return""==e.val()?!1:!0},maxVal:function(e){var t=e.attr("data-max");return e.val()<=parseInt(t)}},validateFun=function(e){this.obj=e,this.validate=function(){return this.obj.find(".required").each(function(){console.log($(this).attr("data-rules"));for(var e=$(this),t={},n=$(this).attr("data-rules").split(","),a=0;a<n.length;a++){var i=n[a].split(":");console.log(i),t[i[0]]=i[1]}console.log(t);for(var a in t){if(console.log(rules[a](e)),!rules[a](e)){e.addClass("error"),e.parent().find(".errorText").length||$('<span class="errorText"></span>').text(t[a]).appendTo(e.parent());break}e.removeClass("error"),e.parent().find(".errorText").length&&e.parent().find(".errorText").remove()}}),console.log(this.obj.find(".error").length),this.obj.find(".error").length?!1:!0}};!function(e){e.fn.extend({wdScroll:function(t){return this.each(function(){function n(){var e=c.width()/p.perNum;w.width(e),v.css({left:-y*w.outerWidth(!0),position:"relative",width:e*x}),g.width(c.width()).css({position:"relative",overflow:"hidden"})}function a(){var t=e("<div></div>").addClass("wdm-scroll-container");c=t.clone(),g.after(c),g.appendTo(c);var n=c.width()/p.perNum;w.addClass("f-fl f-pr").width(n),v.css({left:-y*w.outerWidth(!0),position:"relative",width:n*x}),g.width(c.width()).css({position:"relative",overflow:"hidden"}),f=e("<div></div>",{click:d}).addClass("wdu-pre-scroll").appendTo(c),h=e("<div></div>",{click:l}).addClass("wdu-next-scroll").appendTo(c),p.isContinue||y!=x-p.perNum||h.hide(),p.isContinue||0!=y||f.hide(),0==x?g.addClass("f-dn"):g.removeClass("f-dn"),p.auto&&(u=setInterval(r,p.during)),p.layer&&i()}function i(){g.on("click.layer","li img",function(){function t(){a-=1,0==a&&d.fadeOut(),l.fadeIn(),s.find("img").remove();var t=e("<img>").attr("src",imgArr[a]).addClass("wda-grow-show");f.find(".wdu-btn-reverse-gray").attr("href",imgArr[a]+"?download="+imgArr[a].substr(imgArr[a].lastIndexOf("/")+1)),s.append(t)}function n(t){a+=1,a==imgArr.length-1&&l.fadeOut(),d.fadeIn(),s.find("img").remove();var n=e("<img>").attr("src",imgArr[a]).addClass("wda-grow-show");f.find(".wdu-btn-reverse-gray").attr("href",imgArr[a]+"?download="+imgArr[a].substr(imgArr[a].lastIndexOf("/")+1)),s.append(n)}e("body").addClass("f-oh");var a=e(this).closest("li").index(),i=e("<div class='wdm-dlg wdm-dlg-layer'><table class='wd-dlgtable'><tr><td class='wd-dlgtd'></td></tr></table></div>"),r=e("<div></div>").addClass("f-tac");imgArr=[],w.each(function(){var t=e(this).find("img").attr("src");imgArr.push(t)});var o=e("<img>").attr("src",imgArr[a]),s=e("<div></div>").addClass("f-pr f-ib").append(o),d=e("<div></div>",{click:t}).addClass("wdu-pre-scroll2").appendTo(s),l=e("<div></div>",{click:n}).addClass("wdu-next-scroll2").appendTo(s);e("<div></div>").addClass("icon-close wdu-delete-scroll").appendTo(s);0==a&&d.hide(),a==imgArr.length-1&&l.hide();var u={"class":"wdu-btn-reverse-gray wdu-btn-md",text:"下载截图"},c=imgArr[a].substr(imgArr[a].lastIndexOf("/")+1),f=e("<div class='wdu-mgt20 f-tac'></div>").append(e("<a></a>",u).attr({href:imgArr[a]+"?download="+c}));r.append(s).append(f),i.find(".wd-dlgtd").append(r),e("body").append(i),i.on("click",function(t){var t=t||window.event,n=t.target||t.srcElement;n.className.indexOf("wdu-next-scroll2")>-1||n.className.indexOf("wdu-pre-scroll2")>-1||n.className.indexOf("wdu-btn-reverse-gray")>-1?t.stopPropagation():(e(this).remove(),e("body").removeClass("f-oh"))}),e(document).keydown(function(e){var i=window.event||e;switch(i.keyCode){case 37:if(0==a)break;t();break;case 39:if(a==imgArr.length-1)break;n()}})})}function r(e){"pre"==e?y--:y++,y>x-p.perNum&&(y=0),0>y&&(y=x-p.perNum),p.isContinue||y!=x-p.perNum?h.fadeIn():h.fadeOut(),p.isContinue||0!=y?f.fadeIn():f.fadeOut(),g.find("ul").stop().animate({left:-y*w.outerWidth(!0)},p.speed)}function o(){clearInterval(u)}function s(){p.auto&&(u=setInterval(r,p.during))}function d(){o(),r("pre"),s()}function l(){o(),r(),s()}var u,c,f,h,m={speed:500,during:5e3,auto:!1,isContinue:!1,perNum:2,index:0,layer:!0},p=e.extend({},m,t),g=e(this),v=e("ul",g),w=e("li",v),y=(e("img",w),p.index),x=w.size();return e(window).on("resize",function(){n()}),a(),this})}})}(jQuery);